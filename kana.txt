<!----------------------------------------------------

    TUMBLR THEME: Kana - Â© Flipse / @altindie
    - Version 3.0.0
    
    RELEASED:   19 October 2021
    UPDATED:    21 August 2023
    
    CREDITS:            altindie.tumblr.com/credit
    TERMS OF USE:       altindie.tumblr.com/themes

-----------------------------------------------------> 
<!DOCTYPE html> 
<html lang="en" {block:ifDarkMode}data-theme="light"{/block:ifDarkMode}> 
<head>

<title>{title}{block:PermalinkPage}{block:PostSummary}: {PostSummary}{/block:PostSummary}{/block:PermalinkPage} {block:TagPage}/ #{Tag}{/block:TagPage} {block:SearchPage}| search: {SearchQuery}{/block:SearchPage}</title>
<link rel="shortcut icon" href="{Favicon}"/>
<link rel="alternate" type="application/rss+xml" href="{RSS}"/>
{block:Description}
<meta name="description" content="{MetaDescription}"/>
{/block:Description}
{NewPostStyles}
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">

{block:ifDarkMode}
<script> 
    const storedTheme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
    if (storedTheme) {
      document.documentElement.setAttribute("data-theme", storedTheme); 
    }
</script>
{/block:ifDarkMode}

{block:Options}
<meta name="image:Sidebar image" content=""/>
<meta name="image:Dark mode Sidebar image" content=""/> 

<meta name="color:Text" content="#333333"/> 
<meta name="color:Link" content="#b0b0b0"/>
<meta name="color:Background" content="#ffffff"/>
<meta name="color:Background 2" content="#fdfdfd"/>
<meta name="color:Borders" content="#ebebeb"/>
<meta name="color:Accent" content="#f1b392"/>

<meta name="color:Dark mode Text" content="#fcfcfc"/>
<meta name="color:Dark mode Link" content="#b1b1b1"/>
<meta name="color:Dark mode Background" content="#181818"/>
<meta name="color:Dark mode Background 2" content="#262626"/>
<meta name="color:Dark mode Borders" content="#3b3b3b"/>
<meta name="color:Dark mode Accent" content="#dba183"/>

<meta name="select:Font size" content="11px"/> 
<meta name="select:Font size" content="12px"/>
<meta name="select:Font size" content="13px"/>
<meta name="select:Font size" content="14px"/>
<meta name="select:Font size" content="15px"/>
<meta name="select:Font size" content="17px"/>
<meta name="select:Font size" content="18px"/>

<meta name="select:Blog layout" content="head" title="header">
<meta name="select:Blog layout" content="left" title="left sidebar">
<meta name="select:Blog layout" content="right" title="right sidebar">

<meta name="select:Post width" content="400px" title="400px"/>
<meta name="select:Post width" content="450px" title="450px"/>
<meta name="select:Post width" content="500px" title="500px"/>
<meta name="select:Post width" content="540px" title="540px"/>

<meta name="select:Photoset gutter" content="1px" title="1px"/>
<meta name="select:Photoset gutter" content="2px" title="2px"/>
<meta name="select:Photoset gutter" content="3px" title="3px"/>
<meta name="select:Photoset gutter" content="4px" title="4px"/>

<meta name="select:Sidebar image size" content="40px" title="40px"/>
<meta name="select:Sidebar image size" content="60px" title="60px"/>
<meta name="select:Sidebar image size" content="80px" title="80px"/>

<meta name="select:Sidebar image shape" content="square" title="square">
<meta name="select:Sidebar image shape" content="rounded" title="rounded">
<meta name="select:Sidebar image shape" content="circle" title="circle">
<meta name="select:Sidebar image shape" content="blob" title="blob">

<meta name="select:Post info" content="post-icons" title="icons">
<meta name="select:Post info" content="post-text" title="text">

<meta name="select:Display tags" content="tags-always" title="always">
<meta name="select:Display tags" content="tags-upon" title="upon toggle">

<meta name="select:Update tab" content="tab-none" title="none">
<meta name="select:Update tab" content="tab-left" title="left corner">
<meta name="select:Update tab" content="tab-right" title="left right">

<meta name="if:Dark mode" content=""/>
<meta name="if:Hide tumblr controls" content=""/>
<meta name="if:Round content corners" content=""/>
<meta name="if:Center post column" content=""/>
<meta name="if:Accented pinned post" content=""/>

<meta name="text:Body font"  content="Karla"/>
<meta name="text:Post margin" content="130px"/>

<meta name="text:Custom title" content="lorem ipsum"/>
<meta name="text:Custom description" content="This is where your description text goes. Links and html is allowed."/>

<meta name="text:Home Link Title" content="home"/>
<meta name="text:Ask Link Title" content="ask"/>
<meta name="text:Navigate Link Title" content=""/>
<meta name="text:Archive Link Title" content="Archive"/>

<meta name="text:Update tab Title" content="Updates"/>
<meta name="text:Update Tab" content="updates text. Links and html is allowed."/>
<meta name="text:Activity 1 icon" content="tv"/>
<meta name="text:Activity 1" content="watching"/>
<meta name="text:Activity 2 icon" content="music"/>
<meta name="text:Activity 2" content="listening"/>
<meta name="text:Activity 3 icon" content="library"/>
<meta name="text:Activity 3" content="reading"/>
<meta name="text:Activity 4 icon" content="gamepad-2"/>
<meta name="text:Activity 4" content="playing"/>
{/block:Options}

<!-- PHOTOSETS: pxu -->
<link href="https://static.tumblr.com/qudkd6d/OcDnl99gb/style.css" rel="stylesheet" type="text/css"/>
<!-- TOOLTIP: tippy.js scale -->
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale-subtle.css">
<!-- Google font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family={text:Body font}:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
<style>
/* Theme Options */
:root {
    --font1: '{text:Body font}', sans-serif;
    --font-size: {select:Font size};
    --post-width: {select:Post width};
    --sb-width: 210px; 
    --sb-icon: {select:Sidebar image size};
    --line-height: 1.8;
    --gap1: 12px;
    --gap2: 15px;
    --gap3: 20px;
    --gap4: 35px;
    --gap5: 40px;
    --gap-vert: 90px;
    --gap-hori: 70px;
    --gap-post-margin: {text:Post margin};
    --gap-top-bottom: 90px;
    
    --text-margin-small: 15px;
    --text-margin-big: 20px;
    
{block:ifRoundContentCorners}
    --round1: 0.45em;
    --round2: 0.7em;
    --round3: 1em; 
    --round4: 1.8em;  
    --circle: 100%;
{/block:ifRoundContentCorners}
}
:root{block:ifDarkMode}, html[data-theme='light']{/block:ifDarkMode} {
    --mode-transform: translateX(0px);
    --light-on: flex;
    --light-off: none;
    --c-text: {RGBcolor:Text};
    --c-link: {RGBcolor:Link};
    --c-bg1: {RGBcolor:Background};
    --c-bg2: {RGBcolor:Background 2};
    --c-border: {RGBcolor:Borders};
    --c-acc1: {RGBcolor:Accent};
}
{block:ifDarkMode}
html[data-theme='dark'] {
    --mode-transform: translateX(20px);
    --light-on: none;
    --light-off: flex;
    --c-text: {RGBcolor:Dark mode Text};
    --c-link: {RGBcolor:Dark mode Link};
    --c-bg1: {RGBcolor:Dark mode Background};
    --c-bg2: {RGBcolor:Dark mode Background 2};
    --c-border: {RGBcolor:Dark mode Borders};
    --c-acc1: {RGBcolor:Dark mode Accent};
}
html.theme-transition,
html.theme-transition *,
html.theme-transition *:before,
html.theme-transition *:after {
  transition: 0.0s !important;
  transition-delay: 0 !important;
}
{/block:ifDarkMode}
/* -------------------------------------  css resets */
*,*::before,*::after {
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    -moz-osx-font-smoothing: grayscale;
    box-sizing: border-box;
}
* {
    margin: 0;
    scrollbar-width: thin;
    scrollbar-color: rgba(var(--c-acc1)) rgba(var(--c-bg1));
}
.tmblr-iframe-pushdown {
    padding-top: 0!important;
}
html {
    height: 100%;
}
body {
    height: 100%;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
    line-height: 1;
    font-weight: 400;
}
ul, ol {
    list-style: none;
    padding: 0;
    margin: 0;
}
button,
textarea,
select {
    font: inherit;
}
button {
    outline: none;
    border: 0;
    background: transparent;
    padding: 0;
    display: inherit;
    cursor: pointer;
}
input{
    font: inherit;
    border: none;
    outline: 0;
    padding: 0;
    background-color: transparent;
}
p,h1,h2,h3,h4,h5,h6 {
    overflow-wrap: break-word;
}

/* ------------------------------------- selection */
::-moz-selection {
    background-color: rgba(var(--c-acc1));
    color:rgba(var(--c-text));
}
::selection {
    background-color: rgba(var(--c-acc1));
    color:rgba(var(--c-text)); 
}
/* ------------------------------------- tooltips */
.tippy-box[data-theme~='custom'] {
    font-size: var(--font-size);
    font-weight: 500;
    text-align:center;
    padding: 1px 0px;
    color: rgba(var(--c-bg1));
    border: 0px solid rgba(var(--c-border));
    border-radius: var(--round3);
    background-color: rgba(var(--c-text));
    text-transform: lowercase;
    margin: 18px;
    z-index: 99;
}
/* ------------------------------------- scrollbar */
::-webkit-scrollbar {
    width: 8px;
    background-color: rgba(var(--c-bg1));
}
::-webkit-scrollbar-thumb {
    border-radius: 10px;
    background-color: rgba(var(--c-acc1));
}
::-webkit-scrollbar-track {
    background-color: rgba(var(--c-bg1));
}
/* ------------------------------------- tumblr lightbox */
.vignette, #vignette {
    opacity:0;
}
.lightbox-image, #tumblr_lightbox img {
    box-shadow:none !important;
    border-radius:0 !important;
    max-width:none;
}
.tmblr-lightbox, #tumblr_lightbox {
    background-color: rgba(var(--c-bg1),.90)!important;
}
.tmblr-iframe--gdpr-banner,
.tmblr-iframe--app-cta-button,
.gdpr-banner {
    display: none !important;
}
/* ------------------------------------- general */
body{
    font-family:var(--font1);
    font-size: var(--font-size);
    color: rgba(var(--c-text));
    background-color: rgba(var(--c-bg1));
}
a {
    color:rgba(var(--c-link));
    text-decoration: none;
    transition: all 0.2s ease;
}
a:hover {
    color: rgba(var(--c-acc1)); 
    transition: all 0.2s ease;
}
.flex {
	display: flex;
}
.centered {
	align-items: center;
	justify-content: center;
}
.align-center {
	align-items: center;
}
.justify-center {
	justify-content: center;
}
.wrap {
    flex-wrap: wrap;
}
.gap1 {
    gap: var(--gap1);
}
.gap2 {
    gap: var(--gap2);
}
.gap3 {
    gap: var(--gap3);
}
.gap4 {
    gap: var(--gap4);
}
.gap5 {
    gap: var(--gap5);
}
/* -------------------------------------  containers */
.page-container {
    display: flex;
    flex-direction: column;
    min-height: 100dvh;
    justify-content: space-between;
}
main {
    display: grid;
    gap: var(--gap-vert) var(--gap-hori);
    margin:  var(--gap-top-bottom) 0;
    justify-content: center;
}
.head {
    grid-template-areas: "sb" "post";
}
.left {
    grid-template-areas: "sb post";
    {block:ifCenterPostColumn}
    margin-right: calc(var(--gap-hori) + var(--sb-width));
    transition: margin 0.4s ease-in-out;
    {/block:ifCenterPostColumn}
}
.right {
    grid-template-areas: "post sb";
    {block:ifCenterPostColumn}
    margin-left: calc(var(--gap-hori) + var(--sb-width));
    transition: margin 0.4s ease-in-out;
    {/block:ifCenterPostColumn}
}
footer.footer-bottom {
    text-align: center;
    margin: var(--gap4);
}
/* -------------------------------------  sidebar */
aside {
    grid-area: sb;
}
.left aside .right aside {
    width: var(--sb-width);
}
.left .sb-inner, .right .sb-inner {
    width: var(--sb-width);
    position: sticky;
    top: var(--gap-top-bottom);
    display: grid;
    gap: var(--gap2);
    grid-template-areas: "desc" "nav" "menu";
}
.head aside {
    width: var(--post-width);
}
.head .sb-inner {
    border-bottom: 1px solid rgba(var(--c-border));
    padding-bottom: var(--gap5);
}
.sb-top {
    justify-content: space-between;
    margin-bottom: var(--gap5);
    grid-area: nav;
}
.left .sb-top, .right .sb-top {
    flex-direction: column;
    margin-top: var(--gap3);
    margin-bottom: var(--gap3);
}
nav.menu a, button.toggle-nav {
    color: rgba(var(--c-text));
}
nav.menu a:hover, button.toggle-nav:hover {
    color: rgba(var(--c-acc1));
}
nav.menu a.home {
    font-weight: 700;
    font-size: calc(var(--font-size) + 1px);
    letter-spacing: 1px;
    color: rgba(var(--c-acc1))!important;
}
form.search {
{block:HideFromSearchEnabled}
    display:none!important;
{/block:HideFromSearchEnabled}
    justify-content: space-between;
    max-width: 145px;
    gap: 10px;
}
.left form.search, .right form.search {
    width: 100%;
    max-width: 100%;
}
form.search button.search {
    cursor: pointer;
    color: rgba(var(--c-text));
}
form.search button.search svg {
    width: calc( var(--font-size) + 4px);
    height: calc( var(--font-size) + 4px);
    stroke-width: 1.8;
    stroke: rgba(var(--c-text));
}
form.search:focus-within button.search svg {
    stroke: rgba(var(--c-acc1));
}
form.search input {
    max-width: 100%;
    color: rgba(var(--c-text));
    width: 100%;
    padding: 7px 11px;
    border: 1px solid rgba(var(--c-border));
    overflow: hidden;
    background-color: rgba(var(--c-bg2));
    border-radius: var(--round2);
}
form.search:focus-within input {
    border: 1px solid rgba(var(--c-acc1));
}
form.search input::placeholder {
    padding:0px!important;
    color: rgba(var(--c-text));
    opacity: 1;
}

.left .sb-bottom, .right .sb-bottom {
    flex-direction: column;
    gap: var(--gap2);
    grid-area: desc;
}
.sidebar-icon {
    justify-content: flex-end;
    border: 1px solid rgba(var(--c-border));
    padding:3px;
}
.sidebar-icon img {
    width: var(--sb-icon);
    height: var(--sb-icon);
    overflow: hidden;
    image-rendering: -webkit-optimize-contrast;
    object-fit: cover;
}
.sidebar-icon.rounded, .sidebar-icon.rounded img{
    border-radius: 0.6em;
}
.sidebar-icon.circle, .sidebar-icon.circle img {
    border-radius: 100%;
}
.sidebar-icon.blob {
    border: 0;
}
.sidebar-icon.blob img{
    -webkit-clip-path: url(#blob); 
    clip-path: url("#blob");
}
img.sb-image-light {
    display: var(--light-on);
}
img.sb-image-dark {
    display: var(--light-off);
}
svg.hide-it {
    position: absolute;
    width:0px;
    height:0px;
}
.sb-title {
    font-size: calc(var(--font-size) + 2px);
    font-weight: 700;
    margin-bottom: 3px;
}
.sb-description, .sb-title {
    line-height: 1.5;
}
.left .sb-description, .left .sb-title, .right .sb-description, .right .sb-title {
    text-align: center;
}
{block:ifNavigateLinkTitle}
.toggle-container {
    display: none;
}
{/block:ifNavigateLinkTitle}

nav.toggle-menu {
    margin-top: var(--gap4);
    justify-content: center;
    grid-area: menu;
}
.left nav.toggle-menu, .right nav.toggle-menu {
    margin-top: 0;
}


nav.sb-pagi {
    flex-wrap: wrap;
    margin-top: var(--gap2);
    justify-content: flex-end;
}
nav.sb-pagi a[class*="page"] {
    color: rgba(var(--c-text));
    padding: 6px;
    background-color: rgba(var(--c-bg1));
    border-radius: var(--round2);
    cursor: not-allowed;
}
nav.sb-pagi a.has_page {
    cursor: pointer;
}
nav.sb-pagi a span.icon svg {
    stroke-width: 1.6;
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    stroke: currentColor;
    opacity: 0.3;
}
nav.sb-pagi a.has_page span.icon svg {
    opacity: 1;
}
nav.sb-pagi a.has_page:hover {
    color: rgba(var(--c-acc1));
}
/* -------------------------------------  pagination */
.pagi-wrap {
    margin: var(--gap-post-margin) 0 0;
}
nav.pagi {
    flex-wrap: wrap;
    justify-content: space-between;
}
nav.pagi a[class*="page"] {
    color: rgba(var(--c-text));
    background-color: rgba(var(--c-bg2));
    border-radius: var(--round1);
    cursor: not-allowed;
    border: 1px solid rgba(var(--c-border));
}
nav.pagi a.has_page {
    cursor: pointer;
}
nav.pagi a span {
    padding: 8px;
}
span.icon.prev {
    border-right: 1px solid rgba(var(--c-border));
}
span.icon.next {
    border-left: 1px solid rgba(var(--c-border));
}
nav.pagi a span.icon svg {
    stroke-width: 1.6;
    width: calc( var(--font-size) + 4px);
    height: calc( var(--font-size) + 4px);
    stroke: currentColor;
    opacity: 0.2;
}
nav.pagi a.has_page span.icon svg {
    opacity: 1;
}
nav.pagi a.has_page:hover span.icon {
    background-color: rgba(var(--c-border));
}
/* -------------------------------------  sectection content */
section {
    grid-area: post;
    width: var(--post-width);
}
/* -------------------------------------  post */
article {
    width: 100%;
    {block:IndexPage}
    margin-bottom: var(--gap-post-margin);
    {/block:IndexPage}
}
/*  lineheight */
:is(.post-content p, .post-content ul, .post-content ol, .updates-container, article h1, article h2, .post-content blockquote, .post-content .question, ol.notes, footer.footer-bottom) {
    line-height: var(--line-height);
}
.acc-pin {
    margin-bottom: -17px;
}
.acc-pin svg {
    width: 20px;
    height: 20px;
    stroke-width: 1.5;
    stroke: rgba(var(--c-text));
}
.acc-pin span {
    border: 1px solid rgba(var(--c-border));
    display: inline-flex;
    padding: 6px;
    border-radius: var(--circle);
    background-color: rgba(var(--c-bg2));
}
.pinny {
    border: 1px solid rgba(var(--c-border));
    padding: var(--gap3);
    border-radius: var(--round2);
    background-color: rgba(var(--c-bg2));
}
.pinny+footer.info {
    border-top: 0;
    margin-top: 0;
}
/* -------------------------------------  article, captions etc. */
article h1,
article h2,
article h3,
article .caption p,
.post-content ul,
.post-content ol,
.post-content pre,
.post-content .replies p,
.post-content .question p {
	margin: var(--text-margin-small) 0;
}
article h1 {
    font-size: calc(var(--font-size) + 6px);
    font-weight: 700;
}
article h2 {
    font-size: calc(var(--font-size) + 4px);
    font-weight: 700;
}
article h3 {
    font-size: calc(var(--font-size) + 2px);
    font-weight: 700;
}
.reblog-content p:last-of-type,
article .caption p:last-of-type {
	margin-bottom: var(--text-margin-big);
}
/*  user reblogs and original */
.reblog-header {
    margin: var(--text-margin-big) 0 var(--text-margin-small) 0;
}
.reblog-header:is(:not(.original)) {
}
.reblog-header img {
    max-width: calc(var(--font-size) + 15px);
    border-radius: var(--circle);
    height: auto;
    padding: 3px;
    border: 1px solid rgba(var(--c-border));
}
.reblog-header .user {
    color: rgba(var(--c-text));
    font-weight: 600;
}
.reblog-header a.user:hover {
    color: rgba(var(--c-acc1));
}
span.deactivated:after {
    content:'deactivated';
    font-weight: 400;
    opacity:0;
    transition: all 0.2s ease;
    margin-left: 10px;
}
.reblog-header:hover span.deactivated:after {
    opacity:0.7;
}
.reblog-content {
	padding-bottom: 0;
}
p:empty {
	display: none;
}
/* -------------------------------------  photoset stuff. */
.photo-single {
    cursor: pointer;
}
figure.tmblr-full:is(:not(:last-of-type)) {
    margin-bottom: {select:Photoset gutter};
}
figure:is(:not(:last-of-type)) {
    margin-bottom: {select:Photoset gutter};
}
article img {
	display: block;
}
img.post_media_photo.image,
.tmblr-embed iframe{
    width: 100%;
}
article iframe,
article img {
    max-width: 100%;
    height: auto;
}

.post-content div.npf_row {
    margin-bottom: calc({select:Photoset gutter} - 4px);
}
.post-content div.npf_row:last-child {
    margin-bottom: 0;
}

.post-content div.npf_row .npf_col {
    margin-right: calc({select:Photoset gutter} - 4px); 
}
.post-content div.npf_row .npf_col:last-child {
    margin-right: 0;
}

/* ------------  blockquotes */
.post-content blockquote {
    border-left: 1px solid rgba(var(--c-border));
    padding-left: var(--gap3);
    margin: var(--gap3);
}
.post-content blockquote p {
    margin: 0!important;
}
/* ------------ link style in posts*/
:where(.post-content p, .post-content ul, .post-content ol, .post-content blockquote, .updates-container, .sb-description ) a {
    border-bottom: 1px solid rgba(var(--c-acc1));
    padding-bottom: 2px;
}
/* ------------ ul + ol in posts */
.post-content ul li {
    padding-left: calc( var(--text-margin-small) + var(--text-margin-small) + 1px );
    position: relative;
} 
.post-content ul li::before {
    content: '\ea00';
    font-family: 'phosphor';
    font-size: calc( var(--font-size) + 0px);
    speak: never;
    position: absolute;
    left: calc( var(--text-margin-small) - 8px );
}
.post-content ul li:hover::before {
    color: rgba(var(--c-acc1)); 
}
.post-content ol {
    counter-reset: my-count; 
}
.post-content ol li {
    counter-increment: my-count;
    position: relative;
    padding-left: calc( var(--text-margin-small) - 2px );
    margin-left: calc( var(--text-margin-small) + var(--text-margin-small) - 12px );
}
.post-content ol li::marker {
    content: counter(my-count, decimal-leading-zero);
    display: flex;
}
.post-content ol li:hover::marker {
    color: rgba(var(--c-acc1));
}
/* ------------------------------------ alt. description */
.popover.tutorial {
    padding: var(--gap3)!important;
    background-color: rgba(var(--c-text))!important;
    color: rgba(var(--c-bg1))!important;
}
.popover {
    border-radius: var(--round1)!important;
    font: inherit!important;
    box-shadow: none!important;
}
.popover.tutorial .content, .popover.tutorial .title {
    color: rgba(var(--c-bg1))!important;
}
.popover.tutorial .title {
    font-weight: 700!important;
    font-size: 1.2em!important;
}
.popover.tutorial .content {
    font-size: inherit!important;
}
.popover.tutorial .ok_button {
    color: rgba(var(--c-bg1))!important;
    cursor: pointer!important;
}
/* ------------ styling different ps */
small, sup, sub, big, p.npf_quote {
    font-size: inherit;
    font-family: inherit;
    vertical-align: inherit;
}
p.npf_quirky {
    line-height: inherit;
    font-size: 1.6em;
}
pre {
    white-space: initial;
    margin: 0;
}
code {
    line-height: inherit !important;
    background: transparent;
    font-size: inherit !important;
    word-wrap: break-word;
}
/* -------------------------------------  post footer */
footer.info {
    margin-top: var(--gap4);
    border-top: 1px solid rgba(var(--c-border));
    padding-top: var(--gap3);
}
.info-inner {
    justify-content: space-between;
}
.info-inner a {
    color: rgba(var(--c-text));
}
.info-inner a:hover {
    color: rgba(var(--c-acc1));
}
.pinned span {
    display: inline-flex;
    font-weight: 600;
}
.pinned svg {
    stroke-width: 1.6;
    stroke: rgba(var(--c-acc1));
    width: calc( var(--font-size) + 4px);
    height: calc( var(--font-size) + 4px);
}
a.date {
    gap: 8px;
    align-items: center;
    white-space: nowrap;
}
a.date span{
    font-weight: 800;
    text-transform: lowercase;
    margin-right: 1px;
}
span.between {
    height: 6px;
    width: 6px;
    content: '';
    border-radius: 100%;
    background-color: rgba(var(--c-acc1));
}
a.date span:nth-child(2) {
    text-transform: lowercase;
}
span.notecount {
    white-space: nowrap;
}
.interact {
    gap: 9px;
}
.interact svg {
    width: calc( var(--font-size) + 7px);
    height: calc( var(--font-size) + 7px);
    stroke-width: 1.6;
    stroke: currentColor;
}
.rb svg {
    width: calc( var(--font-size) + 5px);
    height: calc( var(--font-size) + 5px);
}
/* like */
a.custom-like-container {
    position: relative;
    display: inline-flex !important;
    cursor: pointer;
    z-index: 0;
}
a.custom-like-container .like_button {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
}
a.custom-like-container .like_button iframe {
    width: 100%!important;
    height: 100%!important;
}
a.custom-like-container .liked + .custom-like-icon svg {
    color: rgba(var(--c-acc1))!important;
    fill: rgba(var(--c-acc1))!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text {
   color: rgba(var(--c-acc1))!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text:after {
   content:'d';
}
.post-icons.info-icon,
.post-text.info-text {
    display: flex;
}
.post-icons.info-text,
.post-text.info-icon {
    display: none!important;
}
/* tags */
.toggle-tags {
    cursor:pointer;
    transition: all 0.2s ease;
}
.toggle-tags.tags-always {
    display:none;
}
.toggle-tags:hover {
    color: rgba(var(--c-acc1));
}
.tags-container.tags-always {
    display:block;
}
.tags-container.tags-upon { 
    display:none;
}
.tags {
    margin-top: var(--gap2);
    font-weight: 300;
}
span.tag-icon svg {
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    stroke-width: 1.6;
    stroke: rgba(var(--c-acc1));
}
/* on permalink */
.permalink-date {
    line-height: 1.6;
    flex-wrap: wrap;
}
.permalink-date span.dot {
    display: inline-block;
    content: '';
    width: 8px;
    height: 8px;
    background-color: rgba(var(--c-acc1));
    border-radius: 100%;
}
.permalink-reblogged {
    flex-direction: column;
    margin-top: var(--gap1);
    gap: 5px;
}
.from {
    gap: 5px;
}
.from img {
    width: calc( var(--font-size) + 12px);
    height: auto;
    padding: 3px;
    border: 1px solid rgba(var(--c-border));
    border-radius: var(--circle);
}
span.permalink-source {
    margin-top: var(--gap1);
    display: block;
}
/* notes */
.notes-container {
    margin-top: 50px;
}
span.note-counter {
    display: block;
    font-weight: 600;
    margin-bottom: var(--gap2);
}
ol.notes {
    display: flex;
    gap: var(--gap2);
    flex-direction: column;
}
ol.notes li {
    display: inline-block;
    width: 100%;
}
a.avatar_frame {
    display: inline-flex;
    position: absolute;
}
ol.notes li span.action {
    padding-left: 35px;
}
ol.notes li img.avatar {
    margin-top: -3px;
    width: 26px;
    height: auto;
    padding: 3px;
    border: 1px solid rgba(var(--c-border));
    border-radius: var(--circle);
}
a.more_notes_link {
    color: rgba(var(--c-text));
    display: block;
    font-weight: 500;
    padding: 8px;
    border-radius: var(--round1);
    background-color: rgba(var(--c-bg2));
}
/* -------------------------------------  video */
.video {
    width: 100%;
    height: auto;
    aspect-ratio: 16/9;
}
.tumblr_video_container {
    width: 100%!important;
    height: auto!important;
}
article iframe {
    max-width: 100%;
    aspect-ratio: 16/9;
    height: auto;
}
/* -------------------------------------  poll */
.poll-post .poll-question {
    font-size: calc(var(--font-size) + 3px)!important;
    font-weight: 700!important;
}
.poll-post a.poll-row {
    color: rgba(var(--c-text)) !important;
    line-height: inherit !important;
    font-size: var(--font-size) !important;
    border-radius: var(--round1) !important;
    padding: 8px var(--gap1) !important;
    font-weight: 500 !important;
    margin: var(--gap1) var(--gap3)!important;
    border: 1px solid rgba(var(--c-border));
    background-color: rgba(var(--c-bg1)) !important;
    width: auto!important;
    text-align: center!important;
    min-height: auto!important;
}
.poll-post a.poll-row:hover {
    color: rgba(var(--c-acc1))!important;
}
a.poll-row p {
    margin: 0!important;
}
.poll-post .poll-see-results {
    margin-top: 0;
}
/* -------------------------------------  quote */
p.npf_quote {
    border-left: 1px solid rgba(var(--c-border));
    padding-left: var(--gap3);
}
/* -------------------------------------  ask*/
.ask-container {
    border: 1px solid rgba(var(--c-border));
    border-radius: var(--round2);
    overflow: hidden;
}
.ask-user-wrap {
    background-color: rgba(var(--c-bg2));
    border-bottom: 1px solid rgba(var(--c-border));
    padding: var(--gap2);
}
.ask-user-wrap img {
    border-radius: var(--circle);
    width: calc( var(--font-size) + 18px);
    height: calc( var(--font-size) + 18px);
    padding: 3px;
    border: 1px solid rgba(var(--c-border));
}
.ask-user-text {
    gap: 5px;
    flex-direction: column;
    align-items: flex-start;
}
.ask-user-text span:first-child {
    font-weight: 700;
}
.ask-user-text a.asker,
.ask-user-text a.answerer {
    color: rgba(var(--c-text));
} 
.ask-user-text a.asker:hover, 
.ask-user-text a.answerer:hover {
    color: rgba(var(--c-acc1));
}
.question {
    padding: var(--text-margin-big) var(--text-margin-small);
}
.question p:first-of-type {
    margin-top: 0;
}
.question p:last-of-type {
    margin-bottom: 0;
}
.question .npf_inst {
    max-width: 100%;
    margin: 0;
}
:is(.question, .replies, .rb-answer) img {
    width: auto!important;
    max-width: 100%;
}
.replies {
    margin-top: var(--gap2);
}
.rb-answer {
    margin-top: var(--gap2);
}
/* -------------------------------------  chat */
p.npf_chat span.label {
    font-weight: 600;
}
p.npf_chat {
    font-family: inherit!important;
}
/* -------------------------------------  audio */
.audio-container {
    overflow: hidden;
    border-radius: var(--round3);
    border: 1px solid rgba(var(--c-border));
}
.audio-wrap {
    justify-content: space-between;
    overflow: hidden;
    background-color: rgba(var(--c-bg2));
}
.album-art img {
    display: block;
    width: 120px;
    height: 120px;
    min-width: 120px;
    object-fit: cover;
    object-position: center;
}
.audio_info {
    display: flex;
    flex-direction: column;
    width: 100%;
    line-height: 1.5;
    padding: var(--gap2);
}
.trackname {
    font-size: 1.25em;
    font-weight: 700;
    line-height: 1.5;
}
.audio-container .has-image .audio_player {
}
.custom_audio_buttons svg {
    display: flex;
    fill: rgba(var(--c-text));
    cursor: pointer;
    stroke-width: 1;
    width: 16px;
    height: 16px;
}
.custom_audio_error_icon svg {
    cursor: initial;
}
.audio-bar {
    display: flex;
    align-items: center;
    background-color: rgba(var(--c-bg2));
    padding: var(--gap2);
    gap: var(--gap2);
    border-top: 1px solid rgba(var(--c-border));
}
.custom_audio_seekbar {
    height: 10px;
    width: 100%;
    overflow: hidden;
    background: rgba(var(--c-bg1));
    cursor: pointer;
    border-radius: var(--round1);
    border: 1px solid rgba(var(--c-border));
}
.custom_audio_seekbar_progress {
    width: 0;
    height: 100%;
    background: rgba(var(--c-text));
}
.custom_audio_time_left {
    flex: none;
}
.custom_audio_time_left::before {
    content : "-";
}
.spotify_audio_player, article iframe[src*='soundcloud'] {
    max-height: 170px;
    border: 0;
    padding: var(--gap2);
    padding-bottom: 0;
    width: 100%;
}
iframe.tumblr_audio_player {
    max-height: 85px!important;
    margin-bottom: -2px;
}

.tmblr-full>.audio-caption {
    background-color: rgba(var(--c-bg2));
    margin: 0;
    overflow: hidden;
    border-radius: var(--round3);
    border: 1px solid rgba(var(--c-border));
}
.tmblr-full>.audio-caption .audio-details {
    padding: var(--gap2);
    width: calc(100% - 120px);
}
.tmblr-full>.audio-caption .album-cover {
    width: 120px;
    height: 120px;
    object-fit: cover;
}
.tmblr-full>.audio-caption .title {
    font-size: 1.25em;
}
.tmblr-full>.audio-caption .album, .tmblr-full>.audio-caption .artist {
    font-size: 1em;
}
.tmblr-full>audio {
    margin: var(--gap1) 0;
    width: 100%;
}
/* -------------------------------------  link */
div.npf-link-block {
    align-items: flex-start;
    border: 1px solid rgba(var(--c-border));
    background-color: rgba(var(--c-bg2));
    border-radius: var(--round2);
    display: flex;
    justify-content: center;
    margin-bottom: var(--gap2);
    overflow: hidden;
    flex-direction: column;
}
div.npf-link-block .poster {
    -ms-flex-align: center;
    align-items: center;
    background-position: 50%;
    background-repeat: no-repeat;
    background-size: cover;
    background-clip: content-box;
    border-bottom: 1px solid rgba(var(--c-bg1));
    display: -ms-flexbox;
    display: flex;
    height: 250px;
    -ms-flex-pack: center;
    justify-content: center;
    position: relative;
}
div.npf-link-block .title {
    font-size: calc(var(--font-size) + 6px);
    line-height: var(--line-height);
    max-height: 136px;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
    font-weight: 500;
    padding: var(--gap2) var(--gap2) 0;
}
div.npf-link-block .poster .title {
    color: #fff;
    font-weight: 400;
    padding: var(--gap3);
    position: absolute;
    text-align: center;
}
div.npf-link-block .bottom {
    color: inherit;
    line-height: var(--line-height);
    padding: var(--gap2);
}
div.npf-link-block .bottom .description {
    color: inherit;
    font-size: inherit;
    line-height: inherit;
    margin: 0;
    max-height: 80px;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
}
div.npf-link-block .bottom .site-name {
    color: rgba(var(--c-link));
    font-size: inherit;
    font-weight: 400;
    line-height: var(--line-height);
    margin-top: 10px;
    opacity: 1;
    text-transform: uppercase;
}
/* -------------------------------------  corners */
.corner-icon {
    cursor: pointer;
    padding: 5px;
    border-radius: var(--round2);
    background-color: rgba(var(--c-bg2));
    border: 1px solid rgba(var(--c-border));
}
.corner-icon svg {
    stroke: rgba(var(--c-text));
    stroke-width: 1.5;
    width: calc(var(--font-size) + 6px);
    height: calc(var(--font-size) + 6px);
}
.top-corner {
    position: fixed;
    top: var(--gap2);
{block:ifNotHideTumblrControls}
    top: 50px;
{/block:ifNotHideTumblrControls}
    right: var(--gap2);
    flex-direction: column;
    z-index: 90;
    align-items: flex-end;
}
button.controls {
{block:ifNotHideTumblrControls}
    display:none;
{/block:ifNotHideTumblrControls}
}
/* tumblr controls */
iframe.tmblr-iframe, .tmblr-iframe {
    z-index: 99!important;
{block:ifHideTumblrControls}
    opacity: 0;
    visibility: hidden;
    top: 15px;
    right: 60px!important;
{/block:ifHideTumblrControls}
    transform: scale(0.75);
    transform-origin: 100% 0;
    transition: all 0.3s ease;
}
.tmblr-iframe.active {
    opacity: 1;
    visibility: visible;
}
span.spin {
    transition: rotate 500ms ease-in-out;
}
span.spin.active {
    rotate: 100deg;
}
/* theme-toggle */
button.theme-toggle .light-on{
    display: var(--light-on);
}
button.theme-toggle .light-off{
    display: var(--light-off);
}
/* update tab */
.updates-container {
    flex-direction: column;
    align-items: flex-end;
}
.tab-none {
    display:none;
}
.tab-left.updates-container {
    position: fixed;
    top: var(--gap2);
    left: var(--gap2);
    align-items: flex-start;
}
.updates-container svg {
    color: rgba(var(--c-text));
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    min-width: calc( var(--font-size) + 6px);
    stroke-width: 1.6;
}
button.tab-toggle svg {
    stroke-width: 0;
}
.tab-icon {
    display:flex;
}
.tab-icon.active {
    display:none;
}
.updates {
    display: none;
    line-height: 1.6;
    overflow: hidden;
    border: 1px solid rgba(var(--c-border));
    border-radius: var(--round2);
}
.updates-inner {
    width: 240px;
    max-height: 240px;
    padding: var(--gap2);
    background-color: rgba(var(--c-bg2));
    overflow-x: auto;
}
.updates-inner::-webkit-scrollbar {
    width: 10px;
    background-color: rgba(var(--c-bg2));
}
.updates-inner::-webkit-scrollbar-thumb {
    border: 4px solid rgba(var(--c-bg2));
    border-radius: 10px;
    background-color: rgba(var(--c-acc1));
}
.updates-inner::-webkit-scrollbar-track {
    background-color: rgba(var(--c-bg2));
    border: 8px solid rgba(var(--c-bg2));
}
.update-title {
    font-weight: 600;
    margin-bottom: var(--gap1);
}
.activity {
    display: flex;
    align-items: center;
    gap: 9px;
    margin: 8px 0;
}
.activity span {
    display:flex;
}
.activity:first-child {
    margin-top:0;
}
.activity:last-child {
    margin-bottom: 0;
}
.update-text+.activity {
    padding-top: 9px;
}
.scroll-to-top {
    position: fixed;
    bottom: var(--gap2);
    right: var(--gap2);
}
/* ------------------------------------------------- responsive */
.mobile, .mobile-large {
    display:none;
}
{block:ifCenterPostColumn}
/* remove centering of post column when resizing */
@media only screen and (max-width: 1300px ) {
    .left {
        margin-right: 0;
    }
    .right {
        margin-left: 0;
    }
}
{/block:ifCenterPostColumn}

@media only screen and (max-width: calc({select:Post width} + 370px ) ) {
    :root {
        --sb-width: var(--post-width);
    }
    .left,.right {
        grid-template-areas: "sb" "post";
    }
    .left .sb-inner, .right .sb-inner {
        position: relative;
        top: 0;
        grid-template-areas: "nav" "desc" "menu";
    }
    .left .sb-top, .right .sb-top {
        flex-direction: row;
        margin-bottom: var(--gap5);
        margin-top: 0;
    }
    .left form.search, .right form.search {
        width: 100%;
        max-width: 145px;
    }
    .left .sb-bottom, .right .sb-bottom {
        flex-direction: row;
        gap: var(--gap5);
    }
    .left .sb-description, .left .sb-title, .right .sb-description, .right .sb-title {
        text-align: left;
    }
    .sb-inner {
        border-bottom: 1px solid rgba(var(--c-border));
        padding-bottom: var(--gap5);
    }
}
@media only screen and (max-width: calc({select:Post width} + 60px ) ) {
    :root {
        --post-width: 85vw;
        --sb-width: 85vw;
    }
    main {
        width: 100vw;
    }
    .mobile {
        display:block;
    }
    .desktop {
        display: none!important; 
    }
}
/* mobile */
@media only screen and (max-width: 500px ) {
    button.controls,
    .iframe-controls--phone-mobile {
        display: none !important; 
    }
}
{CustomCSS}
</style>    

</head>
<body class="{block:homepage}home{/block:homepage}{block:tagpage}tag{/block:tagpage}{block:searchpage}search{/block:searchpage}{block:submitpage}submit-{/block:submitpage}{block:AskPage}ask{/block:AskPage}-page">

<svg height="0" width="0" class="hide-it">
    <defs>
        <clipPath id="blob" clipPathUnits="objectBoundingBox">
            <path d="M0.5,0.053c0.266,-0.074 0.242,0.198 0.44,0.447c0.161,0.204 -0.209,0.435 -0.44,0.455c-0.275,0.023 -0.516,-0.183 -0.471,-0.455c0.037,-0.217 0.235,-0.382 0.471,-0.447Z">
            </path>
        </clipPath>
    </defs>
</svg>

<div class="page-container">

<main class="{select:Blog layout}">

<aside>
    <div class="sb-inner">
    
        <div class="sb-top flex gap3 align-center">
            <nav class="menu flex gap3 align-center" aria-label="primary navigation">
                <a class="home" href="{BlogURL}">{text:Home Link Title}</a>
                
                {block:AskEnabled}
                    {block:ifAskLinkTitle}
                        <a href="/ask">{text:Ask Link Title}</a>
                    {/block:ifAskLinkTitle}
                {/block:AskEnabled}
                
                {/block:ifNavigateLinkTitle}
                    <button class="toggle-nav">{text:Navigate Link Title}</button>
                {/block:ifNavigateLinkTitle}
            </nav>
            <form class="search flex align-center" action="/search" method="get">
                <button class="search" aria-label="click to search" type="submit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" x2="16.65" y1="21" y2="16.65"></line></svg>
                </button>
                <input type="text" name="q" value="{SearchQuery}" placeholder="search" autocomplete="off"/>
            </form>
        </div>

        <div class="sb-bottom flex gap5 align-center">
            {block:IfSidebarImageImage}
                <div class="sidebar-icon flex {select:Sidebar image shape}">
                    <img class="sb-image-light" src="{image:Sidebar image}"/>
                    <img class="sb-image-dark" src="{image:Dark mode Sidebar image}"/>
                </div>
            {/block:IfSidebarImageImage}
            <div>
                {block:ifCustomTitle}
                    <div class="sb-title">{text:Custom title}</div>
                {/block:ifCustomTitle}
                {block:ifCustomDescription}
                    <div class="sb-description">{text:Custom Description}</div>
                {/block:ifCustomDescription}
            </div>
        </div>
        
        <div class="toggle-container">
            <nav class="toggle-menu flex gap1 align-center wrap">
                {block:HasPages}
                    {block:Pages}
                        <a href="{URL}">{Label}</a>
                    {/block:Pages}
                {/block:HasPages}
                
                {block:ifArchiveLinkTitle}
                    <a href="/archive">{text:Archive Link Title}</a>
                {/block:ifArchiveLinkTitle}
                
                {block:SubmissionsEnabled}
                    <a href="/submit">{SubmitLabel}</a>
                {/block:SubmissionsEnabled}
            </nav>
        </div>
    </div>
</aside>

<section>

{block:posts inlineMediaWidth="1280" inlineNestedMediaWidth="1280"}

    <article id="post-{PostID}" class="{posttype}-post posts">
    
    {block:PinnedPostLabel}
        {block:ifAccentedPinnedPost}
            <div class="acc-pin flex centered">
                <span aria-label="pinned post" title="pinned post">
                	<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none"><path d="M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 10.7614 9.23858 13 12 13ZM12 13V21" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                </span>
            </div>
        {/block:ifAccentedPinnedPost}
    {/block:PinnedPostLabel}
    
        <div class="post-content {block:PinnedPostLabel}{block:ifAccentedPinnedPost}pinny{/block:ifAccentedPinnedPost}{/block:PinnedPostLabel}"> 

            {block:Photo}
                <a class="legacy-photo photo-single"  onclick="Tumblr.Lightbox.init([{ width: {PhotoWidth-HighRes}, height: {PhotoHeight-HighRes}, low_res: '{PhotoURL-500}', high_res: '{PhotoURL-HighRes}' }]); $('body').toggleClass('tumblr_lightbox_active'); return false"><img src="{PhotoURL-HighRes}"></a>
            {/block:Photo}

            {block:Photoset}
                <div class="legacy-photoset photo-slideshow" id="photoset_{PostID}" data-layout="{PhotosetLayout}">
                    {block:Photos}<div class="photo-data"><div class="pxu-photo"><img src="{PhotoURL-500}" width="{PhotoWidth-500}" height="{PhotoHeight-500}" data-highres="{PhotoURL-HighRes}" data-width="{PhotoWidth-HighRes}" data-height="{PhotoHeight-HighRes}"></div><a class="tumblr-box" rel="post-{PostID}" href="{PhotoURL-HighRes}"></a></div>{/block:Photos}</div>
            {/block:Photoset}

            {block:Panorama}
                <div class="legacy-photo"><img src="{photourl-panorama}" alt="{photoalt}"></div>
            {/block:Panorama}

            {block:Quote}
                <div class="caption">
                    <p class="npf_quote">{Quote}</p>
                    <p class="source">-{Source}</p>
                </div>
            {/block:Quote}

            {block:Chat}
                <div class="caption">
        	        {block:Lines}
        	        <p class="npf_chat">
        		        {block:Label}
        		        <span class="label">{Label}</span>
        		        {/block:Label}
        		        {Line}
        	        </p>
        	        {/block:Lines}
                </div>
            {/block:Chat}

            {block:link}
                <div class="npf-link-block {block:Thumbnail}has-poster"{/block:Thumbnail}>
                    <a {Target} href="{URL}" class="link">
                        <div {block:Thumbnail}class="poster" style="background:url({Thumbnail-HighRes}); background-position: 50%; background-repeat: no-repeat; background-size: cover; background-clip: content-box;"{/block:Thumbnail}>
                            <div class="title">{Name}</div>
                        </div>
                        <div class="bottom">
                            {block:Excerpt}<div class="description">{Excerpt}</div>{/block:Excerpt}
                            {block:Host}<div class="site-name">{Host}</div>{/block:Host}
                        </div>
                    </a>
                </div>
            {/block:link}
    
            {block:Video}
                <div class="video">
                    {Video-700}
                </div>
            {/block:Video}
    
            {block:Audio}
                {block:AudioPlayer}
                {AudioPlayer}
                <div class="audio-container">
        	        <div class="audio-wrap flex gap2 align-center">
        		        <div class="audio_info">
        			        {block:TrackName}
        			        <div class="trackname">{TrackName}</div>
        			        {/block:TrackName}
        			        {block:Artist}
        			        <div class="artist">{Artist}</div>
        			        {/block:Artist}
        		        </div>

        		        {block:AlbumArt}
        		        <div class="album-art">
        			        <img src="{AlbumArtURL}"/>
        		        </div>
        		        {/block:AlbumArt}
        	        </div>
        	        
        	        <div class="audio-bar">
        	            <div class="audio_player">
            			    <span class="custom_audio_buttons"></span>
            		    </div>
        	            <span class="custom_audio_time_left"></span>
        	            <div class="custom_audio_seekbar rounded"></div>
                    </div>
                </div>
                {/block:AudioPlayer}
            {/block:Audio}

            {block:Answer}
                <div class="ask-container">
                    <div class="ask-user-wrap gap1 flex align-center">
                        <img src="{AskerPortraitURL-48}">
                        <div class="ask-user-text flex">
                            <span>{Asker}</span>
                            <span>sent a message</span>
                        </div>
                    </div>
        	        <div class="question">
                        {Question}
        	       </div>
                </div>
        
                {block:NotReblog}
                    <div class="replies">{Answer}</div>
                {/block:NotReblog}
        
                {block:Answerer}
                    <div class="ask-container rb-answer">
                        <div class="ask-user-wrap flex gap1 align-center">
                            <img src="{AnswererPortraitURL-48}">
                            <div class="ask-user-text flex">
                                <span>{Answerer}</span>
                                <span>answered</span>
                            </div>
                        </div>
            	        <div class="question">
                            {Answer}
            	       </div>
                    </div>
                {/block:Answerer}
            {/block:Answer}
    
    
            <div class="caption {block:notreblog} original-post {/block:notreblog}">
                {block:Text}
                    {block:Title}<h2>{Title}</h2>{/block:Title}
                {/block:Text}
                
                {block:Link}
                    {block:Description}
                    {block:NotReblog}{Description}{/block:NotReblog}
                    {/block:Description}
                {/block:Link}
                
                {block:notreblog}
                {block:caption}{Caption}{/block:caption}
                {block:Text}{body}{/block:Text}
                
                {/block:notreblog}
                
                {block:Rebloggedfrom}
                    {block:Reblogs}
                    <div class="reblogs">
                        <div class="reblog-header {block:IsOriginalEntry}original{/block:IsOriginalEntry} flex align-center gap1">
                            <img src="{PortraitURL-64}" alt="{username}'s avatar">
                            {block:IsActive}
        			        <a class="user flex align-center" target="_blank" href="{Permalink}">{Username}</a>
        			        {/block:IsActive}
        			        {block:IsDeactivated}
        		            <span class="user flex align-center deactivated" aria-label="user deactivated">{Username}</span>
        			        {/block:IsDeactivated}
                        </div>
                        
                        <div class="reblog-content">
                            {Body}
                        </div>
                    </div>
                    {/block:Reblogs}
                {/block:RebloggedFrom}
            </div>
    
        </div><!-- post-content end -->     
    
        {block:Date}
            <footer class="info">
                
            {block:IndexPage}
                <div class="info-inner gap2 flex align-center">
                    <div class="numbers flex gap1 align-center">
                        {block:PinnedPostLabel}
                            {block:ifNotAccentedPinnedPost}
                		        <div class="pinned">
                				    <span aria-label="pinned post" title="pinned post" class="{select:Post info} info-icon">
                				        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.8199 2H7.17995C5.04995 2 3.31995 3.74 3.31995 5.86V19.95C3.31995 21.75 4.60995 22.51 6.18995 21.64L11.0699 18.93C11.5899 18.64 12.4299 18.64 12.9399 18.93L17.8199 21.64C19.3999 22.52 20.6899 21.76 20.6899 19.95V5.86C20.6799 3.74 18.9499 2 16.8199 2Z" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                				    </span>
                				    <span class="{select:Post info} info-text">pinned</span>
                			    </div>
        			        {/block:ifNotAccentedPinnedPost}
        	           {/block:PinnedPostLabel}
                        <a class="date" aria-label="published date" title="{TimeAgo}" href="{Permalink}"><span>{ShortMonth}</span> {DayOfMonthWithZero}</a>
                        
                        <span class="notecount">{NoteCountWithLabel}</span>
                    </div>
                    
                    <div class="interact flex align-center">
                        {block:HasTags}
                            {block:IndexPage}
                			    <div class="toggle-tags {select:Display tags}">
                				    <span aria-label="show tags" title="show tags" class="{select:Post info} info-icon">
                				        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.16989 15.3L8.69989 19.83C10.5599 21.69 13.5799 21.69 15.4499 19.83L19.8399 15.44C21.6999 13.58 21.6999 10.56 19.8399 8.69005L15.2999 4.17005C14.3499 3.22005 13.0399 2.71005 11.6999 2.78005L6.69989 3.02005C4.69989 3.11005 3.10989 4.70005 3.00989 6.69005L2.76989 11.69C2.70989 13.04 3.21989 14.35 4.16989 15.3Z" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.5 12C10.8807 12 12 10.8807 12 9.5C12 8.11929 10.8807 7 9.5 7C8.11929 7 7 8.11929 7 9.5C7 10.8807 8.11929 12 9.5 12Z" stroke-linecap="round"/></svg>
                				    </span>
                				    <span class="{select:Post info} info-text">tags</span>
                			    </div>
            			    {/block:IndexPage}
        			    {/block:HasTags}

        				<a aria-label="like post" class="custom-like-container {select:Post info} lide" href="#">{LikeButton}
        					<span class="{select:Post info} info-icon custom-like-icon">
        					    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.68998C2 5.59998 4.49 3.09998 7.56 3.09998C9.38 3.09998 10.99 3.97998 12 5.33998C13.01 3.97998 14.63 3.09998 16.44 3.09998C19.51 3.09998 22 5.59998 22 8.68998C22 15.69 15.52 19.82 12.62 20.81Z" stroke-linecap="round" stroke-linejoin="round"/></svg>
        					</span>
        					<span class="{select:Post info} info-text custom-like-text">like</span>
        				</a>

        				<a class="rb" href="{ReblogURL}" target="_blank">
        				    <span class="{select:Post info} info-icon" aria-label="reblog post" title="reblog">
        					    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 12C22 17.52 17.52 22 12 22C6.48 22 3.11 16.44 3.11 16.44M3.11 16.44H7.63M3.11 16.44V21.44M2 12C2 6.48 6.44 2 12 2C18.67 2 22 7.56 22 7.56M22 7.56V2.56M22 7.56H17.56" stroke-linecap="round" stroke-linejoin="round"/></svg>
        				    </span>
        				    <span class="{select:Post info} info-text">reblog</span>
                        </a>
                    </div>
                </div>

                {block:HasTags}
                    <div class="tags-container {block:IndexPage}{select:Display tags}{/block:IndexPage}">
                        <div class="tags flex gap1 align-center">
                            {block:Tags}
                            <a href="{TagURL}">#{Tag}</a>
                            {/block:Tags}
                        </div>
                    </div>
                {/block:HasTags}
            {/block:IndexPage}

                {block:PermalinkPage}
                    <div class="permalink-container">
                        <div class="permalink-date flex align-center gap1">
                            {12Hour}:{Minutes} {CapitalAmPm} <span class="dot"></span>	{ShortMonth} {DayOfMonth}, {Year} <span class="dot"></span>	{NoteCountWithLabel}
                        </div>
                        
                        {block:RebloggedFrom}
                            <div class="permalink-reblogged flex"> 
                			    <div class="from flex align-center">
                			        Created by 
                			        <img src="{ReblogRootPortraitURL-40}"/>
                			        <a href="{ReblogRootURL}">{ReblogRootName}</a>
                			    </div>
                			    
                			    <div class="from flex align-center">
                			        Reblogged from
                			        <img class="circle" src="{ReblogParentPortraitURL-40}" />
                			        <a href="{ReblogParentURL}">{ReblogParentName}</a>
                			     </div>
                            </div>
                        {/block:RebloggedFrom}
                        
                        {block:ContentSource}
                            <span class="permalink-source">Source: <a href="{SourceURL}">{SourceTitle}</a></span>
                        {/block:ContentSource}
                    </div>
                    
                    {block:HasTags}
                        <div class="tags-container {block:IndexPage}{select:Display tags}{/block:IndexPage}">
                            <div class="tags flex gap1 align-center">
                                {block:Tags}
                                <a href="{TagURL}">#{Tag}</a>
                                {/block:Tags}
                            </div>
                        </div>
                    {/block:HasTags}
                {/block:PermalinkPage}
            </footer>
        {/block:Date}
    </article>
    
    {block:PostNotes}
        <div class="notes-container">
            <span class="note-counter">{NoteCountWithLabel}</span>
            {PostNotes-64}
        </div>
    {/block:PostNotes}
    
    {/block:Posts}
        
    {block:Pagination}
        <div class="pagi-wrap">
            <nav class="pagi flex gap2 align-center" role="pagigation" aria-label="Pagination">
                <a {block:PreviousPage} href="{PreviousPage}" title="prev page"{/block:PreviousPage} class="flex align-center {block:PreviousPage}has_{/block:PreviousPage}page">
                            <span class="icon flex prev"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 19.9201L8.47997 13.4001C7.70997 12.6301 7.70997 11.3701 8.47997 10.6001L15 4.08008" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                                <span>prev</span>
                            
                </a>
    
                <a {block:NextPage} href="{NextPage}" title="next page"{/block:NextPage} class="flex align-center {block:NextPage}has_{/block:NextPage}page">
                    <span>next</span>
                    <span class="icon flex next"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.91003 19.9201L15.43 13.4001C16.2 12.6301 16.2 11.3701 15.43 10.6001L8.91003 4.08008" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                </a>
            </nav>
        </div>
    {/block:Pagination}
</section>

</main>

<footer class="footer-bottom">
    <div class="footer-bottom-inner">
         Kana Theme by Â© <a target="_blank" href="https://altindie.tumblr.com">altindie</a>.
    </div>
</footer>

</div> <!-- end .paige -->

<div class="top-corner flex gap1">
    <button class="controls corner-icon" title="tumblr controls" aria-label="open tumblr controls" type="button">
        <span class="spin flex">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 12.8799V11.1199C2 10.0799 2.85 9.21994 3.9 9.21994C5.71 9.21994 6.45 7.93994 5.54 6.36994C5.02 5.46994 5.33 4.29994 6.24 3.77994L7.97 2.78994C8.76 2.31994 9.78 2.59994 10.25 3.38994L10.36 3.57994C11.26 5.14994 12.74 5.14994 13.65 3.57994L13.76 3.38994C14.23 2.59994 15.25 2.31994 16.04 2.78994L17.77 3.77994C18.68 4.29994 18.99 5.46994 18.47 6.36994C17.56 7.93994 18.3 9.21994 20.11 9.21994C21.15 9.21994 22.01 10.0699 22.01 11.1199V12.8799C22.01 13.9199 21.16 14.7799 20.11 14.7799C18.3 14.7799 17.56 16.0599 18.47 17.6299C18.99 18.5399 18.68 19.6999 17.77 20.2199L16.04 21.2099C15.25 21.6799 14.23 21.3999 13.76 20.6099L13.65 20.4199C12.75 18.8499 11.27 18.8499 10.36 20.4199L10.25 20.6099C9.78 21.3999 8.76 21.6799 7.97 21.2099L6.24 20.2199C5.33 19.6999 5.02 18.5299 5.54 17.6299C6.45 16.0599 5.71 14.7799 3.9 14.7799C2.85 14.7799 2 13.9199 2 12.8799Z" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg>

        </span>
    </button>
    

	{block:ifDarkMode}
        <button class="theme-toggle" aria-label="toggle dark & light mode" type="button">
            <span class="light-on corner-icon" title="toggle dark mode">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.30011 18.0399V16.8799C6.00011 15.4899 4.11011 12.7799 4.11011 9.89993C4.11011 4.94993 8.66011 1.06993 13.8001 2.18993C16.0601 2.68993 18.0401 4.18993 19.0701 6.25993C21.1601 10.4599 18.9601 14.9199 15.7301 16.8699V18.0299C15.7301 18.3199 15.8401 18.9899 14.7701 18.9899H9.26011C8.16011 18.9999 8.30011 18.5699 8.30011 18.0399Z" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.5 22C10.79 21.35 13.21 21.35 15.5 22" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </span>
		    <span class="light-off corner-icon" title="toggle light mode">
		        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.0299 2.47998L4.17993 18.33" stroke-linecap="round" stroke-linejoin="round"/><path d="M5.25008 12.9999C4.83008 12.0299 4.58008 10.9799 4.58008 9.89993C4.58008 4.98993 8.80008 1.11993 13.6001 2.16993C15.0601 2.48993 16.3601 3.26993 17.3601 4.34993" stroke-linecap="round" stroke-linejoin="round"/><path d="M19.0599 7.30005C20.2799 11.18 18.3099 15.08 15.5199 16.87V18.03C15.5199 18.32 15.6199 18.99 14.6199 18.99H9.41991C8.38991 18.99 8.51991 18.56 8.51991 18.03V16.87C8.03991 16.57 7.58991 16.2 7.15991 15.77" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.5 22C10.79 21.35 13.21 21.35 15.5 22" stroke-linecap="round" stroke-linejoin="round"/></svg>
		    </span>
        </button>
	{/block:ifDarkMode}
    

    <div class="{select:Update tab} updates-container flex gap2">
        <button class="tab-toggle corner-icon flex" title="update tab" aria-label="open or close update tab">
            <span class="tab-icon active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M3.53 1.47a.75.75 0 00-1.06 1.06l2.62 2.62c-.47.781-.815 1.652-1.002 2.586l-1.254 6.27c-.403 2.013.666 4.037 2.534 4.867a16.1 16.1 0 002.093.761l.104.234a4.853 4.853 0 008.87 0l.104-.234a16.097 16.097 0 002.216-.818l2.715 2.714a.75.75 0 101.06-1.06l-3.118-3.119L6.582 4.522 3.53 1.47zm12.36 16.788a.753.753 0 00-.159.042c-2.44.628-5.022.628-7.463 0a.75.75 0 00-.157-.042 14.61 14.61 0 01-2.134-.756A2.9 2.9 0 014.305 14.3l1.254-6.27a6.563 6.563 0 01.631-1.779l11.425 11.425c-.564.23-1.14.424-1.726.582zm-6.441 1.815c1.688.264 3.414.264 5.102 0a3.353 3.353 0 01-5.102 0zM12 1.25c-1.473 0-2.87.399-4.072 1.103a.75.75 0 00.757 1.294 6.569 6.569 0 019.756 4.383l1.254 6.27c.045.224.062.449.053.67a.75.75 0 001.499.06 4.331 4.331 0 00-.081-1.025l-1.254-6.269A8.069 8.069 0 0012 1.25z"/></svg></span>
    	<span class="tab-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 1.25a8.069 8.069 0 00-7.912 6.486l-1.254 6.27c-.403 2.013.666 4.037 2.534 4.867a16.1 16.1 0 002.093.761l.104.234a4.853 4.853 0 008.87 0l.104-.234a16.104 16.104 0 002.093-.761c1.868-.83 2.937-2.854 2.534-4.868l-1.254-6.269A8.069 8.069 0 0012 1.25zm3.89 17.008a.751.751 0 00-.158.042c-2.44.628-5.023.628-7.464 0a.75.75 0 00-.157-.042 14.61 14.61 0 01-2.134-.756A2.9 2.9 0 014.305 14.3l1.254-6.27a6.569 6.569 0 0112.882 0l1.254 6.27a2.9 2.9 0 01-1.672 3.202c-.693.308-1.407.56-2.134.756zm-6.441 1.815a16.53 16.53 0 005.102 0 3.354 3.354 0 01-5.102 0z"/></svg></span>
        </button>
        <div class="updates">
            <div class="updates-inner">
                
                <div class="update-text">
                    {block:ifUpdateTabTitle}<div class="update-title">{text:Update tab Title}</div>{/block:ifUpdateTabTitle}
                    {text:Update Tab}
                </div>
                
                {block:ifActivity1}
    	        <div class="activity">
    	            {block:ifActivity1Icon}<span><i data-lucide="{text:Activity 1 Icon}"></i></span>{/block:ifActivity1Icon}
    	            <span>{text:Activity 1}</span>
                </div>
                {/block:ifActivity1}
                
                {block:ifActivity2}
    	        <div class="activity">
    	            {block:ifActivity2Icon}<span><i data-lucide="{text:Activity 2 Icon}"></i></span>{/block:ifActivity2Icon}
    	            <span>{text:Activity 2}</span>
                </div>
                {/block:ifActivity2}
                
                {block:ifActivity3}
    	        <div class="activity">
    	            {block:ifActivity3Icon}<span><i data-lucide="{text:Activity 3 Icon}"></i></span>{/block:ifActivity3Icon}
    	            <span>{text:Activity 3}</span>
                </div>
                {/block:ifActivity3}
                
                {block:ifActivity4}
    	        <div class="activity">
    	            {block:ifActivity4Icon}<span><i data-lucide="{text:Activity 4 Icon}"></i></span>{/block:ifActivity4Icon}
    	            <span>{text:Activity 4}</span>
                </div>
                {/block:ifActivity4}
            </div>
        </div>
    </div>
</div>

<div class="scroll-to-top"  title="scroll to top">
    <span class="corner-icon flex">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.9201 15.0499L13.4001 8.52989C12.6301 7.75989 11.3701 7.75989 10.6001 8.52989L4.08008 15.0499" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </span>
</div>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<!-- PHOTOSETS: pxu -->
<script src="https://static.tumblr.com/yxfeliq/hHwojmt8m/bctphotoset.min.js"></script>
<!-- TOOLTIP: tippy.js -->
<script src="https://unpkg.com/@popperjs/core@2"></script>
<!-- TOOLTIP: tippy.js-->
<script src="https://unpkg.com/tippy.js@6"></script>
<!-- AUDIO: legacy -->
<script src="https://cdn.jsdelivr.net/gh/annasthms/customaudio@latest/customaudio.min.js"></script>
<!-- ICONS: phosphor -->
<script src="https://unpkg.com/@phosphor-icons/web"></script>
<!-- ICONS: Lucide -->
<script src="https://unpkg.com/lucide@latest"></script>

<script>

$(document).ready(function () {
    $(".photo-slideshow").pxuPhotoset({
        lightbox: true,
        rounded: false,
        gutter: "{select:Photoset gutter}",
        borderRadius: "0px",
        photoset: ".photo-slideshow",
        photoWrap: ".photo-data",
        photo: ".pxu-photo",
    });
    
    {block:ifHideTumblrControls}
    // tumblr controls
    $(".controls").click(function () {
        $(".tmblr-iframe, .spin").toggleClass("active");
    });
    {/block:ifHideTumblrControls}
    
    {block:ifNavigateLinkTitle}
    // nav menu
    $("button.toggle-nav").click(function () {
        $(".toggle-container").slideToggle(500);
    });
    {/block:ifNavigateLinkTitle}
    
    $(".tab-toggle").click(function () {
        $(".updates").fadeToggle();
        $(".tab-icon").toggleClass("active");
    });
    
    {block:IndexPage}
    // toggle tags
    $(".toggle-tags").click(function (event) {
        const $article = $(this).closest("article");
        $article.find(".tags-container").slideToggle(500);
        $(this).toggleClass("active");
        event.preventDefault();
    });
    {/block:IndexPage}
    
    // scroll to top
    const scrollToTopButton = $('.scroll-to-top');
    scrollToTopButton.hide();
    
    $(window).scroll(function() {
        const scrollPosition = $(this).scrollTop();
        const offsetToShowButton = 100;
    
        if (scrollPosition > offsetToShowButton) {
            scrollToTopButton.fadeIn(150);
        } else {
            scrollToTopButton.fadeOut(150);
        }
    });
    scrollToTopButton.click(function() {
        $('html, body').animate({scrollTop: 0}, 800);
        return false;
    });
    
    // note count
    $(".notecount").each(function () {
        let noteCount = +$(this).text().replace(/,/g, '').split(' ')[0];
        if (noteCount >= 1000000) $(this).text((noteCount / 1000000).toFixed(2) + 'm notes');
        else if (noteCount >= 1000) $(this).text((noteCount / 1000).toFixed(1) + 'k notes');
    });
});

////////////////////////////////////// vanilla js

lucide.createIcons();

// audioplayer
customAudio({
    post: "article",
    wrappers: {
        audio: ".custom_audio_wrapper",
        buttons: ".custom_audio_buttons",
        duration: ".custom_audio_duration",
        timeCurrent: ".custom_audio_current_time",
        timeLeft: ".custom_audio_time_left",
        seekbar: ".custom_audio_seekbar",
    },
    default: false,
    pauseAll: true,
    playButton: "<svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' width='512' height='512' x='0' y='0' viewBox='0 0 512 512' xml:space='preserve'><g><path fill-rule='evenodd' d='M468.8 235.007 67.441 3.277A24.2 24.2 0 0 0 55.354-.008h-.07A24.247 24.247 0 0 0 43.19 3.279a24 24 0 0 0-12.11 20.992v463.456a24.186 24.186 0 0 0 36.36 20.994L468.8 276.99a24.238 24.238 0 0 0 0-41.983z'></path></g></svg>",
    pauseButton: "<svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' width='512' height='512' x='0' y='0' viewBox='0 0 47.607 47.607' xml:space='preserve' class=''><g><path d='M17.991 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345zM42.877 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345z'></path></g></svg>",
    hideInfoIfError: true,
});

// tooltip
const commonOptions = {
    theme: "custom",
    arrow: false,
    animation: "scale-subtle",
    followCursor: true,
    placement: "top",
    touch: "hold",
};

tippy(".post-icons.lide", {
    ...commonOptions,
    content: "like",
});

tippy("[title]", {
    ...commonOptions,
    content(reference) {
        const title = reference.getAttribute("title");
        reference.removeAttribute("title");
        return title;
    },
});

{block:ifDarkMode}
// toggle dark/light
const btns = document.querySelectorAll(".theme-toggle");

btns.forEach((btn) => {
    btn.addEventListener("click", function () {
        const currentTheme =
            document.documentElement.getAttribute("data-theme");
        const targetTheme = currentTheme === "light" ? "dark" : "light";

        document.documentElement.classList.add("theme-transition");
        document.documentElement.setAttribute("data-theme", targetTheme);
        localStorage.setItem("theme", targetTheme);

        setTimeout(function () {
            document.documentElement.classList.remove("theme-transition");
        }, 50);
    });
});
{/block:ifDarkMode}
</script>

</body>

<script>
// remove empty p tags
for (const p of document.querySelectorAll('p')) {
    if (p.innerHTML.trim() === '') {
       p.remove()
    }
}
// create posts array
let posts = []
{block:Posts} 
    posts.push({ npf: JSON.parse({JSNPF}), id: {JSPostId}}) 
{/block:Posts}

//function for updating post types 
function updateTypes(type, article) {
    article.classList.remove('text-post')
    article.classList.add(`${ type }-post`, 'npf-post')
}

// loop through array to get each post
for (const post of posts) {
   let npf = post.npf
   let article = document.getElementById(`post-${post.id}`)
   // select captions that have something in them
   let caption = article.querySelector('.caption:is(:not(:empty))')
   if (caption != null && article.classList.contains('text-post')) {
      // if content exists
      if (npf.trail.length || npf.content.length) {
          // assign various post types based on NPF data
            switch (npf.trail[0]?.content[0]?.type ?? npf.content[0].type) {
            case 'image':
               updateTypes('photos', article)
               if (article.querySelector('.npf_row') == null) {
                  caption.prepend(article.querySelector('figure'))
               }
               break
            case 'video':
               updateTypes('video', article)
               let video = article.querySelector('figure')
               caption.prepend(video)
               break
            case 'link':
              updateTypes('link', article)
            case 'audio':
               updateTypes('audio', article)
                break
            case 'quote':
                updateTypes('quote', article)
            }
          
         // if there are photos
         if (article.classList.contains('photos-post')) {
            let photoset = document.createElement('div')
            photoset.classList.add('npf-photos')
            caption.prepend(photoset)
            // find where a photoset would be split up by another content block
            let photoBreak = article.querySelector('.reblog-content p, .reblog-content h1, .reblog-content h2, .reblog-content blockquote')
            let elements = []
            if (photoBreak) {
               let prevElement = photoBreak.parentNode.firstElementChild
               while (prevElement !== photoBreak) {
                  elements.push(prevElement)
                  prevElement = prevElement.nextElementSibling
               }
            }
            // if there is nothing that breaks up the photoset, select all rows
            else {
               elements = article.querySelectorAll('.npf_row')
            }
            // move each row to the top
            for (const el of elements) {
               photoset.append(el)
            }
            if (article.querySelectorAll('.npf_row').length > 1) {
                updateTypes('photoset', article)
            }
            else {
                updateTypes('photo', article)
            }
         }
         
         // clean up any potential stray reblog headers
         let reblogHeader = article.querySelector('.reblog-header')
         let reblogContent = article.querySelector('.reblog-content')
         if (reblogHeader?.nextElementSibling === reblogContent && reblogContent?.childElementCount === 0) {
            reblogHeader.remove()
            reblogContent.remove()
         }
      }
   }
}
</script>
</html>
